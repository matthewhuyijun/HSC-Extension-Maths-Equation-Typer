<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æµ‹è¯•ä¸‹æ ‡å’Œå­—ä½“å‘½ä»¤ä¿®å¤</title>
    <style>
        body {
            font-family: "Segoe UI", Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-case {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .latex-input {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 4px;
            font-family: monospace;
            margin: 10px 0;
            color: #d63384;
        }
        .word-output {
            background: #e7f3ff;
            padding: 10px;
            border-radius: 4px;
            font-family: "Times New Roman", serif;
            margin: 10px 0;
            font-size: 18px;
        }
        .status {
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        h1 { color: #333; }
        h2 { color: #666; font-size: 18px; margin-top: 0; }
    </style>
</head>
<body>
    <h1>ğŸ”§ ä¿®å¤éªŒè¯æµ‹è¯•</h1>
    <p>æµ‹è¯•ä¸‹æ ‡ä¸¢å¤±å’Œ \mathbf å­—ä½“å‘½ä»¤é—®é¢˜æ˜¯å¦å·²ä¿®å¤</p>

    <div class="test-case">
        <h2>æµ‹è¯• 1: çŸ©é˜µä¸­çš„ä¸‹æ ‡</h2>
        <div class="latex-input">
            \begin{pmatrix} a_{y}b_{z}-a_{z}b_{y} \\ a_{z}b_{x}-a_{x}b_{z} \\ a_{x}b_{y}-a_{y}b_{x} \end{pmatrix}
        </div>
        <div>æœŸæœ›è¾“å‡º: <code>(â– (a_y b_z-a_z b_y@a_z b_x-a_x b_z@a_x b_y-a_y b_x))</code></div>
        <div class="word-output" id="output1">åŠ è½½ä¸­...</div>
        <div class="status" id="status1">æµ‹è¯•ä¸­...</div>
    </div>

    <div class="test-case">
        <h2>æµ‹è¯• 2: \mathbf å­—ä½“å‘½ä»¤</h2>
        <div class="latex-input">
            \mathbf{a} \times \mathbf{b}
        </div>
        <div>æœŸæœ›è¾“å‡º: <code>aÃ—b</code> (å¿½ç•¥ç²—ä½“)</div>
        <div class="word-output" id="output2">åŠ è½½ä¸­...</div>
        <div class="status" id="status2">æµ‹è¯•ä¸­...</div>
    </div>

    <div class="test-case">
        <h2>æµ‹è¯• 3: å®Œæ•´çš„å‰ä¹˜å…¬å¼</h2>
        <div class="latex-input">
            \mathbf{a} \times \mathbf{b} = \begin{pmatrix} a_{y}b_{z}-a_{z}b_{y} \\ a_{z}b_{x}-a_{x}b_{z} \\ a_{x}b_{y}-a_{y}b_{x} \end{pmatrix}
        </div>
        <div>æœŸæœ›è¾“å‡º: <code>aÃ—b=(â– (a_y b_z-a_z b_y@a_z b_x-a_x b_z@a_x b_y-a_y b_x))</code></div>
        <div class="word-output" id="output3">åŠ è½½ä¸­...</div>
        <div class="status" id="status3">æµ‹è¯•ä¸­...</div>
    </div>

    <script src="js/symbol-maps.js"></script>
    <script src="js/latex-utils.js"></script>
    <script src="js/latex-parser.js"></script>
    <script src="js/ast-printer.js"></script>
    <script src="js/postprocessor.js"></script>
    <script src="js/latex-converter.js"></script>

    <script>
        function runTest(testNum, latexInput, expectedSubstrings) {
            try {
                const result = window.latexToWord(latexInput);
                document.getElementById('output' + testNum).textContent = result;
                
                // æ£€æŸ¥æ˜¯å¦åŒ…å«æœŸæœ›çš„å­å­—ç¬¦ä¸²
                let allMatch = true;
                let missingParts = [];
                
                for (const substr of expectedSubstrings) {
                    if (!result.includes(substr)) {
                        allMatch = false;
                        missingParts.push(substr);
                    }
                }
                
                const statusEl = document.getElementById('status' + testNum);
                if (allMatch) {
                    statusEl.textContent = 'âœ… æµ‹è¯•é€šè¿‡';
                    statusEl.className = 'status success';
                } else {
                    statusEl.textContent = 'âŒ æµ‹è¯•å¤±è´¥ - ç¼ºå°‘: ' + missingParts.join(', ');
                    statusEl.className = 'status error';
                }
            } catch (e) {
                document.getElementById('output' + testNum).textContent = 'é”™è¯¯: ' + e.message;
                document.getElementById('status' + testNum).textContent = 'âŒ é”™è¯¯';
                document.getElementById('status' + testNum).className = 'status error';
            }
        }

        // è¿è¡Œæµ‹è¯•
        setTimeout(() => {
            runTest(1, '\\begin{pmatrix} a_{y}b_{z}-a_{z}b_{y} \\\\ a_{z}b_{x}-a_{x}b_{z} \\\\ a_{x}b_{y}-a_{y}b_{x} \\end{pmatrix}', 
                ['a_y', 'b_z', 'a_z', 'b_y', 'a_x', 'b_x']);
            
            runTest(2, '\\mathbf{a} \\times \\mathbf{b}', 
                ['a', 'Ã—', 'b']);
            
            runTest(3, '\\mathbf{a} \\times \\mathbf{b} = \\begin{pmatrix} a_{y}b_{z}-a_{z}b_{y} \\\\ a_{z}b_{x}-a_{x}b_{z} \\\\ a_{x}b_{y}-a_{y}b_{x} \\end{pmatrix}', 
                ['a', 'Ã—', 'b', '=', 'a_y', 'b_z', 'a_z', 'b_y', 'a_x', 'b_x']);
        }, 100);
    </script>
</body>
</html>
