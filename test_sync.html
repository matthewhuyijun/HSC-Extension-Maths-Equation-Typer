<!DOCTYPE html>
<html>
<head>
    <title>Test E2 Sync</title>
    <script>
        // Log when modules are loaded
        window.addEventListener('e2ModulesReady', () => {
            console.log('✅ Modules ready event received');
            document.getElementById('status').textContent = 'Modules Loaded!';
            document.getElementById('status').style.color = 'green';
        });
        
        // Check after load
        window.addEventListener('load', () => {
            setTimeout(() => {
                const status = document.getElementById('status');
                if (window.e2ModulesLoaded) {
                    status.textContent = 'Modules Loaded!';
                    status.style.color = 'green';
                } else {
                    status.textContent = 'Modules NOT loaded';
                    status.style.color = 'red';
                }
                
                // Check functions
                const funcs = ['toWordEquation', 'normalizeWordInput', 'removeWordSpaces', 'normalizeLatexStr'];
                const funcStatus = funcs.map(f => {
                    const exists = typeof window[f] === 'function';
                    return `${f}: ${exists ? '✅' : '❌'}`;
                }).join('<br>');
                document.getElementById('functions').innerHTML = funcStatus;
            }, 1000);
        });
    </script>
</head>
<body>
    <h1>E2 Module Loading Test</h1>
    <h2 id="status">Checking...</h2>
    <div id="functions"></div>
    <script type="module" src="js/app-bridge.js"></script>
</body>
</html>

